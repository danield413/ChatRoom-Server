(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{502:function(e,t,a){},515:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),c=a(96),i=a.n(c),r=a(17),l=a(45),o=a(31),d=a(67),u=a.n(d),j=a(168),b=a(80),m=a.n(b),h=a(112),x=a.n(h),f="AUTH checking JWT finish",O="AUTH login",p="AUTH logout",g="AUTH new user",v="DASHBOARD add messages",y="DASHBOARD add chat messages",N="DASHBOARD add users",w="DASHBOARD clean",k="DASHBOARD select user",C="DASHBOARD add all registered users",S="STATS load stats",_=function(e){return{type:O,payload:e}},A=function(){return{type:g}},I=function(){return{type:f}},D=a(525),R=a(526),E=a(273),$=a(28),T=a(522),U=a(293),M=a(523),H=a(88),z=a(270),F=function(e){return{type:v,payload:e}},B=function(e){return{type:y,payload:e}},P=function(e){return{type:k,payload:e}},G=a(3),W=function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.auth})).uid,a=Object(r.c)((function(e){return e.dashboard})).selectedUser,n=Object(r.c)((function(e){return e.dashboard})).users;return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)("h5",{className:"lead ms-4 my-3",children:Object(G.jsx)("strong",{className:"text-light",children:"Conectados"})}),Object(G.jsxs)("button",{onClick:function(){return e(P({}))},className:"text-white w-100 text-start animate__animated animate animate__fadeIn user-sidebar ".concat((null===a||void 0===a?void 0:a.name)||(null===a||void 0===a?void 0:a.uid)?"":"user-sidebar-active"),children:[Object(G.jsx)(H.a,{color:"#fff",size:"26px",style:{marginRight:"10px"},className:"ms-3"}),Object(G.jsxs)("span",{className:"fw-bold",children:["Sala general ",Object(G.jsx)("i",{className:"fas fa-circle mx-2",style:{fontSize:"12px",color:"#1DD200"}})]})]}),Object(G.jsx)("div",{className:"w-100 overflow-auto",style:{height:"45vh"},children:n&&n.map((function(n){return(null===n||void 0===n?void 0:n.id)!==t&&Object(G.jsxs)("button",{onClick:function(){return e(P({uid:null===n||void 0===n?void 0:n.id,name:null===n||void 0===n?void 0:n.name}))},className:"text-white w-100 text-start animate__animated animate animate__fadeIn user-sidebar ".concat(n.id===(null===a||void 0===a?void 0:a.uid)?"user-sidebar-active":""),children:[Object(G.jsx)(H.a,{color:"#fff",size:"26px",style:{marginRight:"10px"},className:"ms-3"}),Object(G.jsxs)("span",{className:"fw-bold",children:[n.name," ",Object(G.jsx)("i",{className:"fas fa-circle mx-2",style:{fontSize:"12px",color:"#1DD200"}})]})]},n.id)}))})]})},q=function(){var e=Object(r.c)((function(e){return e.dashboard})).allUsers,t=Object(r.c)((function(e){return e.auth})).uid;return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)("h5",{className:"lead ms-4 my-3",children:Object(G.jsx)("strong",{className:"text-light",children:"Todos"})}),Object(G.jsx)("div",{className:"w-100 overflow-auto",style:{height:"55vh"},children:e&&e.map((function(e){return(null===e||void 0===e?void 0:e.id)!==t&&Object(G.jsxs)("button",{className:"text-white w-100 text-start animate__animated animate animate__fadeIn user-sidebar",children:[Object(G.jsx)(H.a,{color:"#fff",size:"26px",style:{marginRight:"10px"},className:"ms-3"}),Object(G.jsx)("span",{className:"fw-bold",children:e.name})]},e.uid)}))})]})},L=a(108),J=function(){var e=Object(n.useState)("online"),t=Object($.a)(e,2),a=t[0],s=t[1],c=Object(r.b)(),i=Object(r.c)((function(e){return e.auth})),o=i.uid,d=i.name,u=Object(r.c)((function(e){return e.dashboard})).users,j=Object(r.c)((function(e){return e.dashboard})).selectedUser,b=Object(n.useCallback)((function(){u.find((function(e){return e.id===(null===j||void 0===j?void 0:j.uid)}))||c(P({}))}),[u,null===j||void 0===j?void 0:j.uid,c]);Object(n.useEffect)((function(){b()}),[u,b]);return Object(G.jsxs)("aside",{className:"h-100",children:[Object(G.jsx)("header",{children:Object(G.jsxs)("div",{className:"w-100 bg-dark d-flex justify-content-between align-items-center px-2",style:{height:"60px"},children:[Object(G.jsxs)("div",{children:[Object(G.jsx)(H.a,{color:"#fff",size:"26px",style:{marginRight:"10px"},className:"ms-3"}),Object(G.jsx)("span",{className:"fw-bold text-white",children:d})]}),Object(G.jsxs)(T.a,{title:Object(G.jsx)(z.a,{}),id:"dropdown-item-button",variant:"dark",className:"bg-dark",children:[Object(G.jsx)(U.a.ItemText,{className:"bg-secondary text-light",children:Object(G.jsx)("strong",{children:"Opciones"})}),Object(G.jsx)(U.a.Item,{as:"button",onClick:function(){c({type:p}),c({type:w}),localStorage.removeItem("chat-token")},className:"bg-secondary text-light",children:"Salir"})]})]})}),Object(G.jsx)("p",{className:"text-muted text-center mt-2",children:o}),Object(G.jsx)("div",{className:"w-100 d-flex justify-content-center mb-3",children:Object(G.jsxs)(l.b,{to:"/stats",className:"btn btn-outline-info d-flex align-items-center",children:[Object(G.jsx)(L.a,{className:"me-1"}),"Estad\xedsticas"]})}),Object(G.jsxs)("div",{children:[Object(G.jsxs)(M.a,{"aria-label":"selecci\xf3n",className:"w-100",children:[Object(G.jsx)("button",{onClick:function(){return s("online")},className:"button-group ".concat("online"===a&&"button-group-active"," fw-bold text-white"),style:{width:"50%"},children:"Conectados"}),Object(G.jsx)("button",{onClick:function(){return s("all")},className:"button-group ".concat("all"===a&&"button-group-active"," fw-bold text-white"),style:{width:"50%"},children:"Todos"})]}),"online"===a?Object(G.jsx)(W,{}):Object(G.jsx)(q,{})]})]})},V=a(6),K=a.n(V),X=a(524),Q=a(533),Y=function(e){var t=e.text,a=e.name,n=e.date;return Object(G.jsxs)(Q.a.div,{animate:{scale:[1,1.1,1]},className:"px-3 py-1 d-flex flex-column rounded text-white mb-3 animate__animated animate__fadeIn",style:{paddingLeft:"10px",paddingRight:"20px",background:"#262D31",marginLeft:"60px",maxWidth:"60%"},children:[a&&Object(G.jsxs)("div",{className:"lead fw-bold d-flex justify-content-between align-items-center",style:{fontSize:"14px"},children:[a,Object(G.jsx)(T.a,{title:"",size:"sm",id:"dropdown-item-button",children:Object(G.jsx)(U.a.Item,{as:"button",onClick:function(){navigator.clipboard.writeText(t).then((function(){x.a.fire("Mensaje copiado")}))},className:"bg-secondary text-light",children:"Copiar texto"})})]}),t,Object(G.jsx)("span",{className:"d-block text-muted align-self-end",style:{fontSize:"12px"},children:n})]})},Z=function(e){var t=e.text,a=e.date;return Object(G.jsxs)(Q.a.div,{animate:{scale:[1,1.1,1]},className:"px-3 py-1 d-flex flex-column rounded text-white mb-3 animate__animated animate__fadeIn",style:{marginRight:"60px",backgroundColor:"#056162",maxWidth:"60%"},children:[t,Object(G.jsx)("span",{className:"d-block text-light align-self-end",style:{fontSize:"12px"},children:a})]})},ee=function(e){var t=e.sendMessage,a=Object(n.useRef)(),s=Object(r.c)((function(e){return e.dashboard})).messages,c=Object(r.c)((function(e){return e.auth})).uid,i=Object(n.useCallback)((function(e){e&&e.scrollIntoView({behavior:"smooth"})}),[]);return Object(G.jsxs)("div",{className:"chat w-100",children:[Object(G.jsxs)("div",{className:"d-flex align-items-center",style:{background:"#2A2F32"},children:[Object(G.jsx)("img",{src:"./assets/img1.jpg",alt:"Foto de perfil de grupo",id:"img-chat",className:"ms-3"}),Object(G.jsx)("span",{className:"text-white fw-bold ms-3",children:"Chat general"})]}),Object(G.jsxs)("div",{className:"chat-messages overflow-auto pt-4",style:{background:"#333A41"},children:[0===s.length&&Object(G.jsx)("div",{className:"alert alert-warning text-center mx-5",children:"Todav\xeda no hay mensajes, comienza escribiendo uno."}),0===s.length&&Object(G.jsx)("div",{className:"w-100 d-flex justify-content-center",children:Object(G.jsx)(X.a,{animation:"border",role:"status",variant:"primary"})}),s&&s.map((function(e,t){var a=s.length-1===t;return e.user._id===c?Object(G.jsx)("div",{className:"d-flex w-100 align-items-end flex-column",ref:a?i:null,children:Object(G.jsx)(Z,{text:e.message,date:e.date},t)},t):Object(G.jsx)("div",{className:"d-flex w-100 align-items-start flex-column",ref:a?i:null,children:Object(G.jsx)(Y,{text:e.message,name:e.user.name,date:e.date},t)},t)}))]}),Object(G.jsx)("div",{id:"chat-input",style:{height:"100%",width:"100%",padding:"0 150px",background:"#2A2F32"},children:Object(G.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""===a.current.value||t(a.current.value),a.current.value=""},className:"h-100 d-flex align-items-center",children:[Object(G.jsx)("input",{ref:a,type:"text",className:"w-100",id:"message-input",placeholder:"Escribe un mensaje",autoComplete:"off"}),Object(G.jsx)("button",{type:"submit",id:"message-submit",className:"d-flex align-items-center",children:Object(G.jsx)(L.b,{color:"#fff",size:"18px"})})]})})]})};ee.propType={sendMessage:K.a.func.isRequired};var te=function(e){var t=e.sendPrivateMessage,a=Object(n.useRef)(),s=Object(r.c)((function(e){return e.dashboard})).selectedUser,c=Object(r.c)((function(e){return e.dashboard})).chatMessages,i=Object(r.c)((function(e){return e.auth})).uid,l=Object(r.b)(),o=Object(n.useCallback)((function(e){e&&e.scrollIntoView({behavior:"smooth"})}),[]);return Object(n.useEffect)((function(){(null===s||void 0===s?void 0:s.uid)&&m.a.get("".concat("https://room-chat-dan.herokuapp.com/api","/messages/get-all-chat/").concat(i,"/").concat(null===s||void 0===s?void 0:s.uid),{headers:{"x-token":localStorage.getItem("chat-token"),"Content-Type":"application/json"}}).then((function(e){var t=e.data;return l(B(t.messagesChat))}))}),[null===s||void 0===s?void 0:s.uid,null===s||void 0===s?void 0:s.name,i,l]),Object(G.jsxs)("div",{className:"chat w-100",children:[Object(G.jsx)("div",{className:"py-2 d-flex align-items-center",style:{background:"#2A2F32"},children:Object(G.jsx)("span",{className:"text-white fw-bold ms-3",children:s.name})}),Object(G.jsxs)("div",{className:"chat-messages overflow-auto pt-4",style:{background:"#333A41"},children:[0===c.length&&Object(G.jsxs)("div",{className:"alert alert-warning text-center mx-5",children:["Todav\xeda no hay mensajes, comienza escribiendole un mensaje a ",null===s||void 0===s?void 0:s.name,"."]}),0===c.length&&Object(G.jsx)("div",{className:"w-100 d-flex justify-content-center",children:Object(G.jsx)(X.a,{animation:"border",role:"status",variant:"primary"})}),c&&c.map((function(e,t){var a=c.length-1===t;return e.recipient!==i?Object(G.jsx)("div",{className:"d-flex w-100 align-items-end flex-column",ref:a?o:null,children:Object(G.jsx)(Z,{text:e.message,date:e.date},t)},t):Object(G.jsx)("div",{className:"d-flex w-100 align-items-start flex-column",ref:a?o:null,children:Object(G.jsx)(Y,{text:e.message,date:e.date},t)},t)}))]}),Object(G.jsx)("div",{id:"chat-input",style:{height:"100%",width:"100%",padding:"0 150px",background:"#2A2F32"},children:Object(G.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""===a.current.value||t(a.current.value),a.current.value=""},className:"h-100 d-flex align-items-center",children:[Object(G.jsx)("input",{ref:a,type:"text",className:"w-100",id:"message-input",placeholder:"Escribe un mensaje",autoComplete:"off"}),Object(G.jsx)("button",{type:"submit",id:"message-submit",className:"bg-primary",children:Object(G.jsx)(L.b,{color:"#fff"})})]})})]})},ae=a(200),ne=a.n(ae),se=a(201),ce=s.a.createContext();var ie=function(e){var t=e.children,a=Object(n.useState)(),s=Object($.a)(a,2),c=s[0],i=s[1],l=Object(r.c)((function(e){return e.auth})),o=l.uid,d=l.name,u=Object(r.c)((function(e){return e.dashboard})).selectedUser,j=Object(r.b)(),b=Object(n.useCallback)((function(e){var t=ne()(new Date),a=t.$H>12?t.$H-=12:t.$H,n="".concat(a,":").concat(1===t.$m.toString().length?"0".concat(t.$m):t.$m," ").concat(t.$D,"/").concat(t.$W,"/").concat(t.$y);c.emit("send-message",{message:e,user:o,date:n})}),[c,o]),m=Object(n.useCallback)((function(e){var t=ne()(new Date),a=t.$H>12?t.$H-=12:t.$H,n="".concat(a,":").concat(1===t.$m.toString().length?"0".concat(t.$m):t.$m," ").concat(t.$D,"/").concat(t.$W,"/").concat(t.$y);c.emit("send-private-message",[{message:e,date:n},{uid:u.uid,name:u.name}])}),[null===u||void 0===u?void 0:u.uid,null===u||void 0===u?void 0:u.name,c]);Object(n.useEffect)((function(){if(!c){var e=Object(se.io)("http://localhost:5000",{query:{uid:o,name:d}});return i(e),function(){return e.close()}}}),[o,d,c]),Object(n.useEffect)((function(){if(c)return c.on("receive-messages",(function(e){j(F(e))})),function(){return c.off("receive-messages")}}),[c,j]),Object(n.useEffect)((function(){if(c)return c.on("created-message",(function(e){j(F(e))})),function(){return c.off("created-message")}}),[c,j]),Object(n.useEffect)((function(){if(c)return c.on("active-users",(function(e){j(function(e){return{type:N,payload:e}}(e))})),function(){return c.off("active-users")}}),[c,j]),Object(n.useEffect)((function(){if(c)return c.on("private-messages",(function(e){j(B(e))})),function(){return c.off("private-messages")}}),[c,j]),Object(n.useEffect)((function(){if(c)return c.on("registered-users",(function(e){j(function(e){return{type:C,payload:e}}(e))})),function(){return c.off("registered-users")}}),[c,j]),Object(n.useEffect)((function(){var e=Object(se.io)("http://localhost:5000",{query:{uid:o,name:d}});return i(e),function(){return e.close()}}),[o,d]),Object(n.useEffect)((function(){if(c)return c.on("get-stats",(function(e){j(function(e){return{type:S,payload:e}}(e))})),function(){return c.off("get-stats")}}),[c,j]);var h={sendMessage:b,sendPrivateMessage:m};return Object(G.jsx)(ce.Provider,{value:h,children:t})},re=a(79),le=function(){var e=Object(r.c)((function(e){return e.auth})).name,t=Object(r.c)((function(e){return e.dashboard})),a=t.selectedUser,s=t.messages,c=Object(n.useContext)(ce),i=c.sendMessage,l=c.sendPrivateMessage,o=Object(r.b)();return Object(n.useEffect)((function(){0===s.length&&m.a.get("".concat("https://room-chat-dan.herokuapp.com/api","/messages/get-all"),{headers:{"x-token":localStorage.getItem("chat-token"),"Content-Type":"application/json"}}).then((function(e){var t=e.data;return o(F(t.messages))}))}),[o,s]),Object(G.jsxs)(G.Fragment,{children:[Object(G.jsxs)(re.a,{children:[Object(G.jsxs)("title",{children:[e," | ChatRoom"]}),Object(G.jsx)("meta",{name:"description",content:"Contenido principal del usuario y salas de chat"})]}),Object(G.jsx)(D.a,{fluid:!0,children:Object(G.jsxs)(R.a,{children:[Object(G.jsx)(E.a,{md:4,style:{background:"#262D31"},className:"p-0",children:Object(G.jsx)(J,{})}),Object(G.jsx)(E.a,{md:8,className:"p-0 d-flex",children:Object(G.jsx)("div",{className:"d-flex",style:{height:"100vh",width:"100%"},children:(null===a||void 0===a?void 0:a.uid)&&(null===P||void 0===P?void 0:P.name)?Object(G.jsx)(te,{sendPrivateMessage:l}):Object(G.jsx)(ee,{sendMessage:i})})})]})})]})},oe=a(527),de=a(528),ue=a(532),je=a(290),be=a(291),me=a(138),he=a(133),xe=a(295),fe=a(274),Oe=function(){var e=Object(r.c)((function(e){return e.stats})).countMessages;return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsxs)(re.a,{children:[Object(G.jsx)("title",{children:"Stats"}),Object(G.jsx)("meta",{name:"description",content:"Estadisticas del chat general"})]}),Object(G.jsx)(D.a,{fluid:!0,children:Object(G.jsx)(R.a,{children:Object(G.jsx)(E.a,{md:12,style:{background:"#333A41"},className:"p-0",children:Object(G.jsxs)("div",{style:{height:"100vh"},children:[Object(G.jsx)("div",{className:"px-3 py-2",style:{background:"#2A2F32"},children:Object(G.jsxs)(l.b,{to:"/",className:"btn btn-outline-info fw-bold d-flex align-items-center d-inline-flex",children:[Object(G.jsx)(fe.a,{}),"Inicio"]})}),Object(G.jsx)("h3",{className:"text-white text-center mt-5",children:"Usuarios que m\xe1s mensajes han enviado"}),Object(G.jsx)("h4",{className:"text-info text-center",children:"En el chat general"}),Object(G.jsx)(oe.a,{width:"100%",height:"60%",className:"mt-5",children:Object(G.jsxs)(de.a,{width:500,height:300,data:e,margin:{top:5,right:30,left:20,bottom:5},children:[Object(G.jsx)(ue.a,{strokeDasharray:"3 3"}),Object(G.jsx)(je.a,{dataKey:"name"}),Object(G.jsx)(be.a,{}),Object(G.jsx)(me.a,{}),Object(G.jsx)(he.a,{}),Object(G.jsx)(xe.a,{dataKey:"messages",fill:"#8884d8"})]})})]})})})})]})},pe=a(534),ge=a(269),ve=function(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=Object(n.useState)(!1),s=Object($.a)(a,2),c=s[0],i=s[1],o=Object(r.b)();return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsxs)(re.a,{children:[Object(G.jsx)("meta",{charSet:"utf-8"}),Object(G.jsx)("title",{children:"Chat | Login"}),Object(G.jsx)("meta",{name:"description",content:"Inicio de sesi\xf3n"})]}),Object(G.jsx)(D.a,{fluid:!0,className:"bg-dark d-flex justify-content-center align-items-center",style:{height:"100vh"},children:Object(G.jsx)("div",{style:{width:"300px"},children:Object(G.jsxs)(pe.a,{onSubmit:function(a){a.preventDefault();var n=e.current.value,s=t.current.value;/^(([^<>()[\].,;:\s@\u201d]+(\.[^<>()[\].,;:\s@\u201d]+)*)|(\u201d.+\u201d))@(([^<>()[\].,;:\s@\u201d]+\.)+[^<>()[\].,;:\s@\u201d]{2,})$/.test(n)&&s.length>=8?(o(function(e,t){return function(){var a=Object(j.a)(u.a.mark((function a(n){var s,c;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,m.a.post("".concat("https://room-chat-dan.herokuapp.com/api","/auth/login"),{email:e,password:t});case 2:s=a.sent,(c=s.data).ok?(localStorage.setItem("chat-token",c.token),n(_({uid:c.user.uid,name:c.user.name,email:c.user.email}))):x.a.fire("Error",c.msg,"error");case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(n,s)),e.current.value="",t.current.value=""):(0===n.length||s.length,i(!0))},className:"animate__animated animate__fadeIn",children:[Object(G.jsx)("h2",{className:"text-white text-start mb-3 texto",children:"ChatRoom"}),Object(G.jsx)("h4",{className:"text-white lead",children:"Inicio de sesi\xf3n"}),Object(G.jsx)(pe.a.Group,{className:"mb-3",children:Object(G.jsx)(pe.a.Control,{className:"bg-dark text-white",type:"email",placeholder:"Correo",ref:e,isInvalid:c})}),Object(G.jsx)(pe.a.Group,{children:Object(G.jsx)(pe.a.Control,{className:"bg-dark text-white",type:"password",placeholder:"Contrase\xf1a",ref:t,isInvalid:c})}),Object(G.jsx)(ge.a,{type:"submit",variant:"outline-primary",className:"w-100 mt-3",children:"Ingresar"}),Object(G.jsx)(l.b,{to:"/auth/register",className:"d-inline-block mt-3",children:"Si no tienes una cuenta"})]})})})]})},ye=function(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=Object(n.useRef)(),s=Object(n.useState)(!1),c=Object($.a)(s,2),i=c[0],o=c[1],d=Object(r.b)();return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsxs)(re.a,{children:[Object(G.jsx)("meta",{charSet:"utf-8"}),Object(G.jsx)("title",{children:"Chat | Register"}),Object(G.jsx)("meta",{name:"description",content:"Registro de nuevo usuario"})]}),Object(G.jsx)(D.a,{fluid:!0,className:"bg-dark d-flex flex-column justify-content-center align-items-center",style:{height:"100vh"},children:Object(G.jsx)("div",{style:{width:"300px"},children:Object(G.jsxs)(pe.a,{onSubmit:function(n){n.preventDefault();var s=t.current.value,c=a.current.value,i=e.current.value;/^(([^<>()[\].,;:\s@\u201d]+(\.[^<>()[\].,;:\s@\u201d]+)*)|(\u201d.+\u201d))@(([^<>()[\].,;:\s@\u201d]+\.)+[^<>()[\].,;:\s@\u201d]{2,})$/.test(s)&&c.length>=8&&i.length>0?(d(function(e,t,a){return function(){var n=Object(j.a)(u.a.mark((function n(s){var c,i;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m.a.post("".concat("https://room-chat-dan.herokuapp.com/api","/auth/register"),{name:e,email:t,password:a});case 2:c=n.sent,(i=c.data).ok?(localStorage.setItem("chat-token",i.token),s(A()),s(_({uid:i.user.uid,name:i.user.name,email:i.user.email})),x.a.fire({position:"bottom-end",icon:"success",title:"Cuenta creada",showConfirmButton:!1,timer:1500})):x.a.fire("Error",i.msg,"error");case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(i,s,c)),e.current.value="",t.current.value="",a.current.value=""):(0===s.length||c.length<6||i.length,o(!0))},className:"animate__animated animate__fadeIn",children:[Object(G.jsx)("h2",{className:"text-white text-start mb-3 texto",children:"ChatRoom"}),Object(G.jsx)("h4",{className:"text-white lead mt-3",children:"Registro"}),Object(G.jsx)(pe.a.Group,{className:"mb-3",children:Object(G.jsx)(pe.a.Control,{className:"bg-dark text-white",type:"text",placeholder:"Nombre",ref:e,isInvalid:i})}),Object(G.jsx)(pe.a.Group,{className:"mb-3",children:Object(G.jsx)(pe.a.Control,{className:"bg-dark text-white",type:"email",placeholder:"Correo",ref:t,isInvalid:i})}),Object(G.jsx)(pe.a.Group,{children:Object(G.jsx)(pe.a.Control,{className:"bg-dark text-white",type:"password",placeholder:"Contrase\xf1a",ref:a,isInvalid:i})}),Object(G.jsx)(ge.a,{type:"submit",variant:"outline-primary",className:"w-100 mt-3",children:"Registrarme"}),Object(G.jsx)(l.b,{to:"/auth/login",className:"d-inline-block mt-3",children:"Si ya tienes una cuenta"})]})})})]})},Ne=function(){return Object(G.jsx)(l.a,{children:Object(G.jsxs)(o.d,{children:[Object(G.jsx)(o.b,{path:"/auth/login",component:ve}),Object(G.jsx)(o.b,{path:"/auth/register",component:ye}),Object(G.jsx)(o.a,{to:"/auth/login"})]})})},we=a(23),ke=a(164),Ce=function(e){var t=e.isAuthenticated,a=e.component,n=Object(ke.a)(e,["isAuthenticated","component"]);return Object(G.jsx)(o.b,Object(we.a)(Object(we.a)({},n),{},{component:function(e){return t?Object(G.jsx)(a,Object(we.a)({},e)):Object(G.jsx)(o.a,{to:"/login"})}}))},Se=function(e){var t=e.isAuthenticated,a=e.component,n=Object(ke.a)(e,["isAuthenticated","component"]);return Object(G.jsx)(o.b,Object(we.a)(Object(we.a)({},n),{},{component:function(e){return t?Object(G.jsx)(o.a,{to:"/"}):Object(G.jsx)(a,Object(we.a)({},e))}}))},_e=function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.auth})),a=t.checking,s=t.uid;return Object(n.useEffect)((function(){e(function(){var e=Object(j.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("".concat("https://room-chat-dan.herokuapp.com/api","/auth/renew"),{headers:{"x-token":localStorage.getItem("chat-token"),"Content-Type":"application/json"}});case 2:a=e.sent,(n=a.data).ok?(localStorage.setItem("chat-token",n.token),t(_({uid:n.user.uid,name:n.user.name,email:n.user.email}))):t(I());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),a?Object(G.jsx)("div",{className:"flexible",children:Object(G.jsxs)("div",{className:"sk-chase",children:[Object(G.jsx)("div",{className:"sk-chase-dot"}),Object(G.jsx)("div",{className:"sk-chase-dot"}),Object(G.jsx)("div",{className:"sk-chase-dot"}),Object(G.jsx)("div",{className:"sk-chase-dot"}),Object(G.jsx)("div",{className:"sk-chase-dot"}),Object(G.jsx)("div",{className:"sk-chase-dot"})]})}):Object(G.jsx)(ie,{children:Object(G.jsx)(l.a,{children:Object(G.jsxs)(o.d,{children:[Object(G.jsx)(Se,{isAuthenticated:!!s,path:"/auth",component:Ne}),Object(G.jsx)(Ce,{isAuthenticated:!!s,exact:!0,path:"/",component:le}),Object(G.jsx)(Ce,{isAuthenticated:!!s,path:"/stats",component:Oe}),Object(G.jsx)(o.a,{to:"/auth/login"})]})})})},Ae=a(137),Ie=a(292),De={checking:!0,newUser:!1},Re={messages:[],users:[],selectedUser:{},chatMessages:[],allUsers:[]},Ee={countMessages:[]},$e="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ae.c,Te=Object(Ae.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(we.a)(Object(we.a)({},e),{},{checking:!1},t.payload);case p:return{checking:!1};case f:return Object(we.a)(Object(we.a)({},e),{},{checking:!1});case g:return Object(we.a)(Object(we.a)({},e),{},{newUser:!0});default:return e}},dashboard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(we.a)(Object(we.a)({},e),{},{messages:t.payload});case N:return Object(we.a)(Object(we.a)({},e),{},{users:t.payload});case w:return{messages:[],users:[]};case k:return Object(we.a)(Object(we.a)({},e),{},{selectedUser:t.payload});case y:return Object(we.a)(Object(we.a)({},e),{},{chatMessages:t.payload});case C:return Object(we.a)(Object(we.a)({},e),{},{allUsers:t.payload});default:return e}},stats:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(we.a)(Object(we.a)({},e),{},{countMessages:t.payload});default:return e}}}),Ue=Object(Ae.d)(Te,$e(Object(Ae.a)(Ie.a)));a(502),a(503);var Me=function(){return Object(G.jsx)(r.a,{store:Ue,children:Object(G.jsx)(_e,{})})};a(504),a(505);i.a.render(Object(G.jsx)(Me,{}),document.getElementById("root"))}},[[515,1,2]]]);
//# sourceMappingURL=main.ea0632a4.chunk.js.map